<template>
  <view class="container">
    <view class="header">
      <text class="title">æ˜¥èŠ‚å˜´æ›¿</text>
      <text class="subtitle">é€‰æ‹©ä¸€ä½â€œå¯¹æ‰‹â€å¼€å§‹æ¼”ç»ƒ</text>
    </view>
    
    <view class="role-grid">
      <view 
        class="role-card" 
        v-for="(role, index) in roles" 
        :key="index"
        @click="selectRole(role.id)"
      >
        <view class="avatar-placeholder" :style="{background: role.color}">{{ role.icon }}</view>
        <text class="role-name">{{ role.name }}</text>
        <text class="role-desc">{{ role.desc }}</text>
      </view>
    </view>

    <view class="footer-funcs">
      <button class="func-btn" @click="navTo('/pages/bank/index')">ğŸ’° å¦ˆå¦ˆå­˜å•</button>
      <button class="func-btn" @click="navTo('/pages/avatar/index')">ğŸ§§ å¼€è¿å¤´åƒ</button>
    </view>
  </view>
</template>

<script setup>
import { ref } from 'vue'

const roles = ref([
  { id: 'aunt_money', name: 'åŠ¿åˆ©çœ¼äºŒå§¨', desc: 'å·¥èµ„å¤šå°‘ï¼Ÿä¹°æˆ¿äº†å—ï¼Ÿ', icon: 'ğŸ‘±â€â™€ï¸', color: '#FF9800' },
  { id: 'aunt_marriage', name: 'å‚¬å©šå¤§å§‘', desc: 'è¿˜ä¸æ‰¾å¯¹è±¡ï¼Ÿä¸å­ï¼', icon: 'ğŸ‘µ', color: '#E91E63' },
  { id: 'neighbor_showoff', name: 'å‡¡å°”èµ›é‚»å±…', desc: 'æˆ‘å®¶å„¿å­åˆšæ¢äº†ä¿æ—¶æ·', icon: 'ğŸ‘¨â€ğŸ¦±', color: '#2196F3' },
  { id: 'uncle_strict', name: 'ä¸¥å‰äºŒèˆ…', desc: 'å·¥ä½œè¦è„šè¸å®åœ°...', icon: 'ğŸ‘´', color: '#607D8B' }
])

const selectRole = (id) => {
  uni.navigateTo({
    url: `/pages/chat/index?role=${id}`
  })
}

const navTo = (url) => {
  uni.navigateTo({ url })
}
</script>

<style>
.container { padding: 40rpx; }
.header { margin-bottom: 60rpx; text-align: center; }
.title { font-size: 48rpx; font-weight: bold; color: #D32F2F; display: block; }
.subtitle { font-size: 28rpx; color: #666; margin-top: 10rpx; display: block; }

.role-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 30rpx; margin-bottom: 60rpx; }
.role-card { 
  background: #fff; padding: 30rpx; border-radius: 20rpx; 
  box-shadow: 0 4rpx 12rpx rgba(0,0,0,0.05);
  display: flex; flex-direction: column; align-items: center;
}
.avatar-placeholder { 
  width: 100rpx; height: 100rpx; border-radius: 50%; 
  display: flex; align-items: center; justify-content: center; font-size: 50rpx;
  margin-bottom: 20rpx;
}
.role-name { font-size: 32rpx; font-weight: bold; color: #333; }
.role-desc { font-size: 24rpx; color: #999; text-align: center; margin-top: 10rpx; }

.footer-funcs { display: flex; gap: 20rpx; }
.func-btn { flex: 1; font-size: 28rpx; background: #FFF3E0; color: #E65100; border: none; }
</style>
