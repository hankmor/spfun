/**
 * 2026 马年神仙祝福提示词生成器 (低调得体版)
 */

const TARGET_MAP = {
    'boss': '老板/领导/甲方',
    'relatives': '长辈亲戚',
    'bestie': '死党/闺蜜',
    'crush': '暧昧/暗恋/对象',
    'ex': '前任/普通同学', // 修改定位
    'fri': '同事/摸鱼搭子'
}

const VIBE_MAP = {
    'formal': '得体稳重 (安全牌)',
    'horse': '马力全开 (高浓度谐音梗)',
    'crazy': '精神离家出走 (发疯/抽象)'
}

// 策略库：针对不同角色的深度定制指令 (去油腻、去炫耀版)
const STRATEGIES = {
    'boss': `
        - **核心目标**：职业化、感恩、表决心。不卑不亢，体现专业度。
        - **文案逻辑**：不出现具体姓氏（如刘总）。将“马”与“团队前行、业绩增长”结合。暗示希望能跟对人。
        - **避坑**：禁止肉麻吹捧，禁止出现假名。使用“您”、“领导”代替。
        - **基调**：踏实肯干，期待共赢。
    `,
    'relatives': `
        - **核心目标**：乖巧懂事但保持距离。
        - **文案逻辑**：多夸长辈身体好、气色好、打牌手气好。**少提自己的近况**（避免引火烧身）。
        - **基调**：温馨、喜庆、把注意力全部转移到长辈身上。
    `,
    'bestie': `
        - **核心目标**：共同富裕。
        - **文案逻辑**：虽然想暴富，但带上朋友一起。互相调侃不想做牛马。
        - **基调**：松弛、搞笑、也是真心希望对方好。
    `,
    'crush': `
        - **核心目标**：提供情绪价值，刷存在感，但不给压力。
        - **文案逻辑**：用马年元素表达“陪伴”或“想念”。
        - **避坑**：不要过于油腻的土味情话，要清爽、可爱一点。
    `,
    'ex': `
        - **核心目标**：【松弛感】。这才是最高级的低调。
        - **文案逻辑**：**不要炫耀**。展示出成熟、体面、各自安好的态度。既不怀念也不怨恨，就是礼貌的节日常规问候。
        - **基调**：云淡风轻，简单一句“祝马年顺利”胜过千言万语。
    `,
    'fri': `
        - **核心目标**：反卷、快乐。
        - **文案逻辑**：祝愿少加班、身体健康、心情愉快。打工人的共鸣。
        - **基调**：轻松幽默，像在茶水间闲聊。
    `
}

// 风格修饰器
const VIBE_INSTRUCTIONS = {
    'formal': '风格要求：温暖、真诚、简洁。拒绝浮夸的辞藻，用最朴实的语言表达祝福。',
    'horse': '风格要求：巧妙运用马年成语或谐音（马到成功/一马当先），但要嵌入得自然，不要为了谐音而谐音。',
    'crazy': '风格要求：有些俏皮或搞怪，可以使用年轻人的轻微吐槽（如：拒绝画饼/禁止焦绿），适合发给同龄人。'
}

function getBlessingPrompt(target, vibe) {
    const targetKey = TARGET_MAP[target] ? target : 'fri';
    const vibeKey = VIBE_MAP[vibe] ? vibe : 'formal'; // 默认改为得体风格
    
    return `你是一个【2026年丙午马年·春节社交文案专家】。
当前时间：2026年马年春节。
任务：生成一段**发送给${TARGET_MAP[targetKey]}**的微信拜年文案。

[生成策略配置]
1. **核心策略**: 
${STRATEGIES[targetKey]}

2. **语调风格**:
${VIBE_INSTRUCTIONS[vibeKey]}

[绝对强制约束] (Strict Rules)
1. **【零具体称谓】**：**严禁生成“刘总”、“王姨”、“李哥”等具体姓氏！** 如果需要称呼，请使用通用的“您”、“老板”、“集美”、“兄弟”或者直接省略主语。让用户自己去填名字。
2. **【低调内敛】**：禁止出现具体的金钱数字（如“赚了五百万”）、具体的职位（如“当了高管”）等过度炫耀的内容。保持谦虚、含蓄、得体。
3. **含马量**：文案必须包含“马”相关的祝福词或谐音梗。
4. **字数**：控制在20-50字以内，适合微信直接发送。
5. **输出格式**：直接输出文案内容，不要带引号。

请生成文案：`
}

module.exports = {
    getBlessingPrompt,
    TARGET_MAP,
    VIBE_MAP
}